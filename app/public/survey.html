<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Survey</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

	<div class="container">
		
		<h1 class="text-left">Survey</h1>

		<div class="row">
      <div class="col-lg-12">

        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">Survey</h4>
          </div>

          <div class="panel-body">

            <form role="form">

              <div class="form-group">
                <label for="friendName">Name (Required)</label>
                <input type="text" class="form-control" id="friendName">
              </div>

              <div class="form-group">
                <label for="friendPhoto">Link to Photo (required)</label>
                <input type="text" class="form-control" id="friendPhoto">
              </div>

              <div class="input-field">
              <h3>Question 1</h3>
              <h5>Your mind is always buzzing with unexplored ideas and plans.</h5>
              <select id="question1">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 2</h3>
              <h5>Generally speaking, you rely more on your experience than your imagination.</h5>
              <select id="question2">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 3</h3>
              <h5>You find it easy to stay relaxed and focused even when there is some pressure.</h5>
              <select id="question3">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 4</h3>
              <h5>You rarely do something just out of sheer curiosity.</h5>
              <select id="question4">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 5</h3>
              <h5>People can rarely upset you.</h5>
              <select id="question5">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 6</h3>
              <h5>It is often difficult for you to relate to other people’s feelings.</h5>
              <select id="question6">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 7</h3>
              <h5>In a discussion, truth should be more important than people’s sensitivities.</h5>
              <select id="question7">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 8</h3>
              <h5>You rarely get carried away by fantasies and ideas.</h5>
              <select id="question8">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 9</h3>
              <h5>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h5>
              <select id="question9">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="input-field">
              <h3>Question 10</h3>
              <h5>You feel more energetic after spending time with a group of people.</h5>
              <select id="question10">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

              <hr>

              <button type="submit" class="btn btn-primary submit">Submit</button>

            </form>

          </div><!--closes panel body-->

        </div><!--closes panel-->

      </div> <!--closes col-->
    </div> <!--closes row-->

  </div> <!--closes container-->


  <footer class="footer">
		<div class="container">
			<p><a href="/api/friends">API Friends List</a> | <a href="/github">GitHub Repo</a></p>
		</div>
	</footer>

</body>
</html>

<script type="text/javascript">

	$(".submit").on("click", function(event){
		event.preventDefault();

		var newFriend = {
			friendName: $("#friendName").val().trim(),
			friendPhoto: $("#friendPhoto").val().trim(),
      scores: [
        $("#question1").val().trim(),
        $("#question2").val().trim(),
        $("#question3").val().trim(),
        $("#question4").val().trim(),
        $("#question5").val().trim(),
        $("#question6").val().trim(),
        $("#question7").val().trim(),
        $("#question8").val().trim(),
        $("#question9").val().trim(),
        $("#question10").val().trim()
      ]
		};

		console.log(newFriend);

		$.post("/api/friends", newFriend, function(data){
			if(data){
				alert("You're submitted!");
			}

			$("#friendName").val("");
			$("#friendPhoto").val("");
      $("#question1").val("");
      $("#question2").val("");
      $("#question3").val("");
      $("#question4").val("");
      $("#question5").val("");
      $("#question6").val("");
      $("#question7").val("");
      $("#question8").val("");
      $("#question9").val("");
      $("#question10").val("");

      

		});

	});
	
</script>